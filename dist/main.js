(()=>{"use strict";function e(e){const n=1.8*(e-273.15)+32;return Math.round(n)}function n(n,t){!function(e){document.getElementById("cityName").innerHTML=e.city}(n),function(n){const t=document.getElementById("info"),o=document.createElement("h2"),a=e(n.temperature);o.innerHTML=`${a}째F`,t.appendChild(o)}(n),function(n){const t=document.getElementById("info"),o=document.createElement("h3"),a=e(n.feelsLike);o.innerHTML=`Feels like ${a}째F`,t.appendChild(o)}(n),function(n){const t=document.getElementById("info"),o=document.createElement("container");o.setAttribute("id","temp_box");const a=document.createElement("h3"),c=e(n.tempMax);a.innerHTML=`High ${c}째F | `,o.appendChild(a),t.appendChild(o)}(n),function(n){const t=document.getElementById("temp_box"),o=document.createElement("h3"),a=e(n.tempMin);o.innerHTML=` Low ${a}째F`,t.appendChild(o)}(n),function(e){const n=document.getElementById("info"),t=document.createElement("h3"),o=e.humidityPercent;t.innerHTML=`Humidity ${o}%`,n.appendChild(t)}(n),function(e){const n=document.getElementById("info"),t=document.createElement("h3"),o=e.report;t.innerHTML=`${o}`,n.appendChild(t)}(n),async function(e){const n=document.querySelector("img"),t=e.iconInfo;!function(e){const n=document.createElement("style");"04n"===e||"04d"===e||"03n"===e||"03d"===e?(n.innerHTML="\n            body{\n                background-image: url('images/cloudy.jpg');\n                background-repeat: no-repeat;\n                background-attachment: fixed;\n                background-size: cover;\n            }",document.head.appendChild(n)):"01d"===e||"01n"===e?(n.innerHTML="\n            body{\n                background-image: url('images/clear.jpeg');\n                background-repeat: no-repeat;\n                background-attachment: fixed;\n                background-size: cover;\n            }",document.head.appendChild(n)):"02d"===e||"02n"===e?(n.innerHTML="\n      body{\n          background-image: url('images/partlycloudy.jpeg');\n          background-repeat: no-repeat;\n          background-attachment: fixed;\n          background-size: cover;\n      }",document.head.appendChild(n)):"09n"===e||"09d"===e||"10n"===e||"10d"===e?(n.innerHTML="\n      body{\n          background-image: url('images/rainy.jpeg');\n          background-repeat: no-repeat;\n          background-attachment: fixed;\n          background-size: cover;\n      }",document.head.appendChild(n)):"11n"===e||"11d"===e?(n.innerHTML="\n      body{\n          background-image: url('images/thunderstorm.jpg');\n          background-repeat: no-repeat;\n          background-attachment: fixed;\n          background-size: cover;\n      }",document.head.appendChild(n)):"13n"===e||"13d"===e?(n.innerHTML="\n      body{\n          background-image: url('images/snow.jpg');\n          background-repeat: no-repeat;\n          background-attachment: fixed;\n          background-size: cover;\n      }",document.head.appendChild(n)):"50n"!==e&&"50d"!==e||(n.innerHTML="\n      body{\n          background-image: url('images/mist.jpg');\n          background-repeat: no-repeat;\n          background-attachment: fixed;\n          background-size: cover;\n      }",document.head.appendChild(n))}(t);try{const e=await fetch(`https://openweathermap.org/img/wn/${t}@2x.png`,{mode:"cors"});n.src=e.url}catch(e){c()}}(n),function(e,n){console.log(n),document.getElementById("toggle").addEventListener("click",(()=>{!function(e,n){n=!n,console.log(n),a(e,n)}(e,n)}))}(n,t)}async function t(e){try{const n=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&APPID=5287f004be1ee460907a8a4c96152f64`,{mode:"cors"});a(await n.json(),!0)}catch(e){c()}}class o{constructor(e,n,t,o,a,c,d,i){this.city=e,this.temperature=n,this.feelsLike=t,this.tempMax=o,this.tempMin=a,this.humidityPercent=c,this.report=d,this.iconInfo=i}}function a(e,t){const a=e.name,c=e.main.temp,d=e.main.feels_like,i=e.main.temp_max,r=e.main.temp_min,m=e.main.humidity,u=e.weather[0].description,g=e.weather[0].icon,p=new o(a,c,d,i,r,m,u,g);console.log("gather data"),n(p,t)}function c(){console.log("error in retrieving weather")}console.log("load weather"),document.getElementById("submit").addEventListener("click",(()=>{!function(){const e=document.getElementById("search").value;document.getElementById("info").innerHTML="",t(e)}()})),t("Grand Rapids")})();